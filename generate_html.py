import numpy as np


def generate_sentiment_html(sentiment_array, string, file_name):
    ###
    #  character_sentiment_array: sentiment value for each character in string
    #

    orig_large = max(sentiment_array)
    orig_small = min(sentiment_array)

    new_large = 100.0
    new_small = 0.0

    f = open(file_name, 'w')
    for x in range(1, len(string)):
        val = sentiment_array[x - 1]
        scaled_val = (((new_large - new_small)*(val - orig_small)) / (orig_large - orig_small)) + new_small

        f.write('<span value="%f" onmouseover="myfunction(this);">%s</span>' % (scaled_val, string[x]))


def main():
    sentiments = [ 0.04824885 , 0.06580302 , 0.09342734 , 0.10893104 , 0.12783612 , 0.12783612,
      0.16587017 , 0.11928541 , 0.11928541 , 0.11565667 , 0.1346533  , 0.14509015,
      0.14509015 , 0.16177264 , 0.1490826  , 0.1490826  , 0.15052174 , 0.15876567,
      0.15887076 , 0.15552662 , 0.16202745 , 0.16852587 , 0.1743184  , 0.15813138,
      0.2093207  , 0.2398704  , 0.2398704  , 0.23833184 , 0.19729368 , 0.3747483,
      0.9567367  , 0.9567367  , 0.96300954 , 0.93114966 , 0.6903275  , 0.9785391,
      1.0439212  , 1.2416544  , 1.2416544  , 1.2058779  , 1.2135856  , 1.2050024,
      1.2050024  , 1.1513788  , 1.1629138  , 1.1713144  , 1.1913459  , 1.1623961,
      1.090327   , 1.1560898  , 1.1937666  , 1.1520494  , 1.1590073  , 1.1590073,
      1.1463293  , 1.1074922  , 1.1074922  , 1.0976032  , 1.1012343  , 1.1018854,
      1.102689   , 1.1034176  , 1.1034176  , 1.0930266  , 1.0932058  , 1.0915266,
      1.0852047  , 1.1029259  , 1.1029259  , 1.0727911  , 1.0738289  , 1.069574,
      1.073016   , 1.0697005  , 1.0697005  , 1.070618   , 1.0792528  , 1.0540414,
      1.0686173  , 1.0655384  , 1.0704993  , 1.0669454  , 1.0669454  , 1.0344888,
      1.0409518  , 1.0409446  , 1.0362822  , 1.0357293  , 1.0387319  , 1.0387319,
      1.038225   , 1.0255007  , 1.0243287  , 1.0243287  , 1.0064467  , 1.0098739,
      1.0174779  , 1.0174779  , 1.0251119  , 1.0080632  , 0.9950639  , 0.9950639,
      0.97914064 , 0.987833   , 0.9881842  , 0.99559486 , 1.0336227  , 0.99182445,
      1.0125659  , 0.97176826 , 1.0245254  , 1.0113438  , 0.98437816 , 0.98437816,
      1.0004469  , 0.98724693 , 1.1680175  , 1.1077158  , 1.5439966  , 1.123764,
      1.0773077  , 1.1719431  , 1.1267858  , 1.1267858  , 1.1680447  , 1.2059506,
      1.1172516  , 1.1172516  , 1.122446   , 1.1119763  , 1.1327084  , 1.1226003,
      1.1253655  , 1.1253655  , 1.132689   , 1.127064   , 1.1214807  , 1.1301376,
      1.0954516  , 1.0950003  , 1.0820539  , 1.0903171  , 1.0908378  , 1.0893673,
      1.0996755  , 1.1003712  , 1.1003712  , 1.1038151  , 1.0975369  , 1.0916533,
      1.0916533  , 1.116695   , 1.0925275  , 1.0940533  , 1.1088626  , 1.0840385,
      1.0857735  , 1.0914876  , 1.1258503  , 1.1513914  , 1.1513914  , 1.1492542,
      1.1456234  , 1.1466122  , 1.1485864  , 1.1273097  , 1.1750357  , 1.1938117,
      1.1940223  , 1.1940223  , 1.2035888  , 1.2014796  , 1.2189804  , 1.2189804,
      1.2139173  , 1.2144881  , 1.2184991  , 1.2253592  , 1.2312357  , 1.2297729,
      1.2484652  , 1.264399   , 1.262      , 1.2497756  , 1.2497756  , 1.2568867,
      1.2518566  , 1.2525567  , 1.2606806  , 1.2533181  , 1.2865989  , 1.2574894,
      1.2557671  , 1.2613076  , 1.2856774  , 1.2856774  , 1.275655   , 1.2746812,
      1.256255   , 1.2712407  , 1.2712407  , 1.2960845  , 1.2365661  , 1.3038996,
      1.3118097  , 1.2142648  , 1.214093   , 1.2163599  , 1.1707855  , 1.269718,
      1.3285333  , 1.3285333  , 1.3370806  , 1.3145412  , 1.354213   , 1.2999195,
      1.3504426  , 1.3126997  , 1.3126997  , 1.2214519  , 1.2249359  , 1.1953732,
      1.1953732  , 1.1848958  , 1.1852221  , 1.168913   , 1.1647639  , 1.1320606,
      1.1320606  , 1.1156994  , 1.0920814  , 1.035273   , 1.1123099  , 1.1123099,
      1.106686   , 1.1148689  , 1.1071886  , 1.1039984  , 1.1439368  , 1.1180958,
      1.0891292  , 1.0891292  , 1.0550699  , 1.0278265  , 1.0278265  , 0.99646133,
      1.0000248  , 0.99747235 , 0.9627404  , 0.9627404  , 0.9484803  , 0.94810915,
      0.9485457  , 0.9485457  , 0.9358548  , 0.92862207 , 0.9061738  , 0.8331391,
      0.8331391  , 0.6662395  , 0.8380612  , 0.8380612  , 0.7745794  , 0.8072233,
      0.82551074 , 0.82551074 , 0.8091487  , 0.8186582  , 0.828043   , 0.7513093,
      0.39386457 , 0.39386457 , 0.35455254 , 0.37772265 , 0.3780231  , 0.37620556,
      0.37438038 , 0.38837606 , 0.39702657 , 0.36502868 , 0.36221126 , 0.29714584,
      0.29714584 , 0.28227147 , 0.28721806 , 0.29006502 , 0.29006502 , 0.29027307,
      0.2883519  , 0.27394187 , 0.30011514 , 0.271783   , 0.27001595 , 0.26493266,
      0.2716248  , 0.2572538  , 0.25334886 , 0.25334886 , 0.24947248 , 0.24795969,
      0.25914282 , 0.25914282 , 0.24233283 , 0.24625841 , 0.24955107 , 0.24955107,
      0.2402568  , 0.24459323 , 0.23632675 , 0.2384446  , 0.2428603  , 0.24097386,
      0.2470526  , 0.23796692 , 0.25485107 , 0.25485107 , 0.24258535 , 0.29879048,
      0.22417265 , 0.21959542 , 0.21959542 , 0.20891848 , 0.21437387 , 0.21213025,
      0.1917892  , 0.20915903 , 0.18616685 , 0.1080847  , 0.18238147 , 0.08360513,
     -0.0784747 ,-0.0784747 ,-0.15744108 , -0.28078315, -0.18054453, -0.18054453,
                  -0.19172078, -0.27096856, -0.19684315, -0.17155728, -0.14801879, -0.19935037,
                  -0.18323171, -0.18323171, -0.19107579, -0.19035667, -0.19515526, -0.19227491,
                  -0.19227491, -0.2007749, -0.21802849, -0.21802849, -0.29547372, -0.22747004,
                  -0.19453125, -0.25461763, -0.24121477, -0.25934842, -0.25934842, -0.29642522,
                  -0.28825396, -0.2890477, -0.2890477, -0.32012963, -0.29411167, -0.28538066,
                  -0.28764588, -0.28889948, -0.28889948, -0.267381, -0.26459518, -0.2764587,
                  -0.2764587, -0.286591, -0.2755485, -0.29260144, -0.27534312, -0.2863757,
                  -0.29636887, -0.29636887, -0.33253005, -0.2810397, -0.28363955, -0.27648652,
                  -0.27648652, -0.28867728, -0.27860472, -0.28827134, -0.28827134, -0.29339054,
                  -0.2910182, -0.3140963, -0.27800265, -0.27800265, -0.28649104, -0.278906,
                  -0.306334, -0.30099037, -0.32167152, -0.32167152, -0.3389665, -0.32741418,
                  -0.33063033, -0.33063033, -0.33409467, -0.33233482, -0.3372996, -0.34725592,
                  -0.34469545, -0.58494467, -0.58494467, -0.7186488, -0.7186488, -0.7578427,
                  -0.7233499, -0.7149198, -0.70619166, -0.71354485, -0.71354485, -0.7212521,
                  -0.713983, -0.76780784, -0.73084354, -0.73109967, -0.73109967, -0.7386717,
                  -0.71851003, -0.7272422, -0.7272422, -0.7215079, -0.7256399, -0.7212949,
                  -0.7200928, -0.72685975, -0.726549, -0.726549, -0.7308884, -0.74003494,
                  -0.73576117, -0.750814, -0.74655694, -0.75661016, -0.7443167, -0.7443167,
                  -0.7617789, -0.74479187, -0.7349638, -0.74068457, -0.72068125, -0.7598949,
                  -0.79449964, -0.79262954, -0.79262954, -0.81087756, -0.8091786, -0.8143326,
                  -0.8107897, -0.8107897, -0.81890714, -0.7993475, -0.80512273, -0.818008,
                  -0.82272524, -0.82272524, -0.83053416, -0.83445764, -0.82310325, -0.82310325,
                  -0.824553, -0.824553, -0.8296593, -0.84412074, -0.8294561, -0.8388946,
                  -0.82049996, -0.8246722, -0.8246722, -0.8294264, -0.8460716, -0.8460716,
                  -0.8462218, -0.8321274, -0.8425687, -0.8436637, -0.8436637, -0.84546036,
                  -0.845294, -0.8674729, -0.8343955, -0.8343955, -0.83296984, -0.8083274,
                  -0.81137955, -0.8470152, -0.8182746, -0.8928812, -0.8928812, -0.8845449,
                  -0.8772577, -0.886039, -0.8960001, -0.8960001, -0.7677688, -0.88884836,
                  -0.88884836, -0.8919826, -0.89783204, -0.89783204, -0.9028349, -0.9009748,
                  -0.9007812, -0.9003364, -0.90673655, -0.9006837, -0.90260696, -0.8993272,
                  -0.8933798, -0.88849723, -0.88849723, -0.88469535, -0.8966744, -0.8843249,
                  -0.8967661, -0.8853216, -0.914534, -0.9183924, -0.9028003, -0.9028003,
                  -0.92993766, -0.90623814, -0.9091059, -0.9037785, -1.0414407, -1.0414407,
                  -1.0414407, -1.1315476, -1.1315476, -1.1417574, -1.1007923, -1.1194632,
                  -1.1147758, -1.1147758, -1.1184232, -1.1183163, -1.1227163, -1.0797505,
                  -1.0797505, -1.0818033, -1.083646, -1.0791508, -1.0843803, -1.0793945,
                  -1.0701756, -1.0624042, -1.0624042, -1.0676697, -1.0681766, -1.0713513,
                  -1.0666914, -1.0728322, -1.0695876, -1.0692668, -1.0706407, -1.0698581,
                  -1.0491478, -1.0491478, -1.0471472, -1.0445939, -1.0362904, -1.0432886,
                  -1.0411195, -1.0411195, -1.0414076, -1.0392636, -1.0025321, -1.0328462,
                  -1.0328462, -1.0299884, -1.0299884, -1.030718, -1.0331109, -1.0317153,
                  -1.0399317, -1.0288941, -1.0345412, -1.0277508, -1.0277508, -1.0303056,
                  -1.0277425, -1.0353305, -1.0318235, -1.0266929, -1.0261984, -1.0254201,
                  -1.0254201, -1.023797, -1.0254595, -1.0049518, -1.0154572, -1.0143973,
                  -1.0143973, -1.0139714, -1.0145444, -1.0152457, -1.0152457, -1.0114089,
                  -1.0120635, -1.0143846, -1.0129733, -1.0129733, -1.0110484, -1.0034548,
                  -1.0034548, -1.0039983, -1.0020851, -1.0011874, -0.99625224, -0.9958488,
                  -0.9958488, -0.99007004, -0.9901264, -0.9901264, -0.98260033, -0.97752166,
                  -0.97617465, -0.97617465, -0.965531, -0.9712337, -0.97478443, -0.9630465,
                  -0.98234963, -0.97747546, -0.97747546, -0.9847892, -0.96243656, -0.96243656,
                  -0.9595097, -0.9595097, -0.96728176, -0.96234965, -0.93549615, -0.93549615,
                  -0.9389334, -0.9364549, -0.9232408, -0.9232173, -0.9232173, -0.9229691,
                  -0.9181207, -0.92567664, -0.93054986, -0.9206891, -0.9206891, -0.86463726,
                  -0.89316875, -0.89316875, -0.90754247, -0.9014407, -0.9014407, -0.9158526,
                  -0.9158891, -0.90729296, -0.90729296, -0.9052253, -0.9084803, -0.90214485,
                  -0.9182739, -0.9154765, -0.9263655, -0.928456, -0.9209124, -0.89739656,
                  -0.89739656, -0.8940374, -0.84468114, -0.95440936, -0.95440936, -0.9965095,
                  -0.9356716, -0.9144146, -1.1723504, -1.1723504, -1.1993427, -1.2087404,
                  -1.1831514, -1.1831514, -1.215559, -1.1843781, -1.1843781, -1.2083237,
                  -1.1889793, -1.1860182, -1.1860182, -1.1736006, -1.176952, -1.1652659,
                  -1.1788088, -1.1802908, -1.1633631, -1.1555362, -1.1680809, -1.1680809,
                  -1.1891145, -1.192509, -1.1021961, -1.291992, -1.7236524, -1.7236524,
                  -1.7147896, -1.7087641, -1.7447654, -1.7780954, -1.7657356, -1.6957642,
                  -1.7086749, -1.7401397, -1.8154402, -1.8154402, -1.9005333, -1.7764143,
                  -1.7764143, -1.7670656, -1.7518866, -1.7552114, -1.7554953, -1.7522979,
                  -1.7676897, -1.7946314, -1.7946314, -1.8303576, -1.7922, -1.7848009,
                  -1.7753527, -1.7503877, -1.7428362, -1.7882864, -1.7882864, -1.7722018,
                  -1.7841301, -1.7864896, -1.7826144, -1.7750005, -1.7750005, -1.7721175,
                  -1.7768052, -1.7645558, -1.7645558, -1.7587082, -1.7647072, -1.7668796,
                  -1.7592418, -1.7643596, -1.7629242, -1.7629242, -1.7607183, -1.7692654,
                  -1.7570837, -1.7353531, -1.7597333, -1.7527504, -1.751162, -1.7563318,
                  -1.7374854, -1.7406992, -1.740699, -1.7188541, -1.7911755, -1.7603438,
                  -1.749285, -1.8208385, -1.8208385, -1.8779858, -1.8557805, -1.8685508,
                  -1.8685508, -1.870703, -1.8576815, -1.7798793, -1.7515577, -1.7515577,
                  -1.757532, -1.7164494, -1.7164494, -1.725463, -1.7211058, -1.7210568,
                  -1.6697155, -1.6664989, -1.667921, -1.7000666, -1.7000666, -1.6996038,
                  -1.7039479, -1.6919434, -1.6468403, -1.646342, -1.6438835, -1.6438835,
                  -1.6613901, -1.631459, -1.6897547, -1.1588634, -0.23362891, -0.23362891,
                  -0.29706663, -0.28971744, -0.2941546, -0.2941546, -0.29946712, -0.302462,
                  -0.29997322, -0.2660668, -0.27768043, -0.27768043, -0.286988, -0.27865833,
                  -0.27865833, -0.27781183, -0.2778712, -0.2949624, -0.29758903, -0.29758903,
                  -0.3369459, -0.33383, -0.35300493, -0.34703866, -0.5473745, -0.7531373,
                  -0.6058204, -0.89954, -1.0059762]

    complete_sample = "\nThis is one of Crichton's best books. The characters of Karen Ross, Peter Elliot, Munro, and Amy are beautifully developed and their interactions are exciting, complex, and fast-paced throughout this impressive novel. And about 99.8 percent of that got lost in the film. Seriously, the screenplay AND the directing were horrendous and clearly done by people who could not fathom what was good about the novel. I can't fault the actors because frankly, they never had a chance to make this turkey live up to Crichton's original work.  I know good novels, especially those with a science fiction edge, are hard to bring to the screen in a way that lives up to the original. But this may be the absolute worst disparity in quality between novel and screen adaptation ever. The book is really, really good. The movie is just dreadful."


    generate_sentiment_html(sentiments, complete_sample, 'output.html')


if __name__ == "__main__":
    main()